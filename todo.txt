make keyDef nullable and change all transparent behaviour to be nullable instead
